# Don't change the appId! See <https://www.electron.build/configuration/nsis#guid-vs-application-name>
appId: io.solarwallet.app
productName: iSTSiWallet
copyright: Copyright Â© 2026 SatoshiPay Ltd

protocols:
  name: Stellar transaction / payment requests URL
  schemes: [web+stellar]

directories:
  buildResources: ./electron/build
  output: ./release

files:
  - "dist/**/*"
  - "dist-electron/**/*"
  - "!**/node_modules/*/{CHANGELOG.md,README.md,README,readme.md,readme}"
  - "!**/node_modules/*/{test,__tests__,tests,powered-test,example,examples}"
  - "!**/node_modules/*.d.ts"
  - "!**/node_modules/.bin"
  - "!**/*.{iml,o,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,xproj}"
  - "!.editorconfig"
  - "!**/._*"
  - "!**/{.DS_Store,.git,.hg,.svn,CVS,RCS,SCCS,.gitignore,.gitattributes}"
  - "!**/{__pycache__,thumbs.db,.flowconfig,.idea,.vs,.nyc_output}"
  - "!**/{appveyor.yml,.travis.yml,circle.yml}"
  - "!**/{npm-debug.log,yarn.lock,.yarn-integrity,.yarn-metadata.json}"

publish:
  - provider: github
    owner: satoshipay
    repo: solar

win:
  # Electron builder bug: Without this line the icon gets corrupted on Windows
  icon: ./electron/build/icon.png
  target: squirrel

squirrelWindows:
  iconUrl: https://github.com/satoshipay/solar/blob/master/electron/build/icon.ico?raw=true

mac:
  entitlements: ./electron/build/entitlements.mac.inherit.plist
  # Required for Electron 28+ on macOS
  notarize: false

linux:
  # Must not contain a whitespace for the .desktop file
  artifactName: Solar-Wallet-${version}.${ext}
  category: Utility

afterPack: ./scripts/electron-builder-afterpack.cjs
afterSign: ./scripts/electron-builder-aftersign.cjs
