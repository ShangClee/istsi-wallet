# ESLint Configuration Migration Notes

## Overview

This document describes the migration from TSLint to ESLint for the Solar Wallet project.

## Migration Process

1. **Initial Conversion**: Used `tslint-to-eslint-config` tool to automatically convert `tslint.json` to `.eslintrc.js`
2. **Plugin Installation**: Installed required ESLint plugins for TypeScript, React, and code quality
3. **Configuration Enhancement**: Added recommended configurations and React-specific rules
4. **Rule Adjustments**: Modified rules for compatibility with ESLint 6.8.0 and current plugin versions

## Installed Plugins

- `@typescript-eslint/parser` - TypeScript parser for ESLint
- `@typescript-eslint/eslint-plugin` - TypeScript-specific linting rules
- `eslint-plugin-react` - React-specific linting rules
- `eslint-plugin-react-hooks` - React Hooks linting rules
- `eslint-plugin-import` - Import/export syntax validation
- `eslint-plugin-jsdoc` - JSDoc comment validation
- `eslint-plugin-prefer-arrow` - Prefer arrow functions
- `eslint-plugin-unicorn` - Additional code quality rules
- `eslint-config-prettier` - Disables rules that conflict with Prettier

## Configuration Structure

### Extends

- `eslint:recommended` - ESLint's recommended rules
- `plugin:@typescript-eslint/recommended` - TypeScript recommended rules
- `plugin:react/recommended` - React recommended rules
- `prettier` - Prettier compatibility (disables conflicting rules)

### Key Rules Migrated from TSLint

#### TypeScript Rules

- `@typescript-eslint/adjacent-overload-signatures` - Enforce adjacent overload signatures
- `@typescript-eslint/array-type` - Enforce array type syntax
- `@typescript-eslint/ban-types` - Ban certain types (Object, Function, etc.)
- `@typescript-eslint/explicit-member-accessibility` - Require explicit accessibility modifiers (no-public)
- `@typescript-eslint/no-empty-function` - Disallow empty functions
- `@typescript-eslint/no-namespace` - Allow namespaces (off)
- `@typescript-eslint/prefer-for-of` - Prefer for-of loops
- `@typescript-eslint/unified-signatures` - Enforce unified function signatures

#### Code Quality Rules

- `curly` - Require curly braces for multi-line blocks
- `eqeqeq` - Require === and !== (smart mode)
- `guard-for-in` - Require for-in loops to filter properties
- `no-bitwise` - Disallow bitwise operators
- `no-caller` - Disallow use of caller/callee
- `no-console` - Warn on console usage (changed from error)
- `no-eval` - Disallow eval()
- `no-new-wrappers` - Disallow new with wrapper objects
- `no-var` - Require let or const instead of var
- `prefer-const` - Prefer const for variables that are never reassigned
- `radix` - Require radix parameter in parseInt()

#### React Rules

- `react/prop-types` - Disabled (using TypeScript for prop validation)
- `react/display-name` - Disabled
- `react/no-unescaped-entities` - Disabled
- `react-hooks/rules-of-hooks` - Enforce Rules of Hooks
- `react-hooks/exhaustive-deps` - Enforce exhaustive dependencies in hooks

## Rules Adjusted for Migration

### Disabled Rules

- `@typescript-eslint/no-shadow` - Turned off due to behavioral differences from TSLint
- `@typescript-eslint/naming-convention` - Turned off for easier migration (can be re-enabled later)
- `id-denylist` - Not available in ESLint 6.8.0
- `unicorn/prefer-ternary` - Not available in eslint-plugin-unicorn 17.x
- `no-undef` - Turned off for TypeScript (TypeScript handles this)

### Modified Rules

- `no-console` - Changed from error to warning for development convenience

## Behavioral Differences from TSLint

The following rules behave differently in ESLint compared to TSLint:

1. **@typescript-eslint/no-shadow**: ESLint checks all declaration types, not selective
2. **no-invalid-this**: Functions in methods are no longer ignored
3. **@typescript-eslint/no-unused-expressions**: The "allow-new" option is now default
4. **prefer-arrow/prefer-arrow-functions**: Named functions with function keyword are not supported
5. **eqeqeq**: Smart mode allows literal comparisons and typeof checks
6. **no-underscore-dangle**: Leading/trailing underscores are now ignored
7. **no-redeclare**: Does not support check-parameters
8. **padded-blocks**: Also bans blank lines before closing braces

## Testing the Configuration

To test the ESLint configuration:

```bash
# Lint all TypeScript files
npx eslint '{src,stories,electron/src}/**/*.{ts,tsx}'

# Lint with auto-fix
npx eslint '{src,stories,electron/src}/**/*.{ts,tsx}' --fix

# Lint a specific file
npx eslint src/App/contexts/settings.tsx
```

## Next Steps

1. Update package.json scripts to use ESLint instead of TSLint (Task 1.3)
2. Remove TSLint dependencies and configuration (Task 1.4)
3. Run ESLint on the entire codebase and fix any issues
4. Consider re-enabling stricter rules after initial migration is complete

## References

- [TSLint to ESLint Migration Guide](https://github.com/typescript-eslint/tslint-to-eslint-config)
- [TypeScript ESLint Documentation](https://typescript-eslint.io/)
- [ESLint Rules Documentation](https://eslint.org/docs/rules/)
- [React ESLint Plugin](https://github.com/jsx-eslint/eslint-plugin-react)
